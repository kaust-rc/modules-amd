#%Module 1.0 -*- tcl -*-

source $env(KAUST_MODULES_ROOT)/common/setup.tcl
GeneralCompilerSetup 

prepend-path NLSPATH $app_dir/idb/intel64/locale/%l_%t/%N

set TBB22_INSTALL_DIR $app_dir/tbb
set TBB_ARCH_PLATFORM intel64/cc4.1.0_libc2.4_kernel2.6.16.21
prepend-path LIBRARY_PATH ${TBB22_INSTALL_DIR}/${TBB_ARCH_PLATFORM}/lib
prepend-path LD_LIBRARY_PATH ${TBB22_INSTALL_DIR}/${TBB_ARCH_PLATFORM}/lib
prepend-path CPATH ${TBB22_INSTALL_DIR}/include

set mklroot $app_dir/mkl
setenv MKLROOT $mklroot
prepend-path INCLUDE $mklroot/include
prepend-path CPATH $mklroot/include
prepend-path FPATH $mklroot/include
prepend-path LIBRARY_PATH $mklroot/lib/em64t
prepend-path LD_LIBRARY_PATH $mklroot/lib/em64t
prepend-path NLSPATH $mklroot/lib/em64t/locale/%l_%t/%N

set ipproot $app_dir/ipp/em64t
setenv IPPROOT $app_dir/ipp/em64t
prepend-path INCLUDE $ipproot/include
prepend-path LD_LIBRARY_PATH $ipproot/sharedlib
prepend-path LIBRARY_PATH $ipproot/lib
prepend-path LIB $ipproot/lib
prepend-path CPATH $ipproot/include
prepend-path NLSPATH $ipproot/lib/locale/%l_%t/%N

prepend-path PATH $app_dir/bin/intel64
prepend-path LD_LIBRARY_PATH $app_dir/lib/intel64
prepend-path LIBRARY_PATH $app_dir/lib/intel64
prepend-path NLSPATH $app_dir/lib/intel64/locale/%l_%t/%N
prepend-path MANPATH $app_dir/man/en_US
setenv INTEL_LICENSE_FILE [file dirname $app_dir]/licenses:$app_dir/licenses

set bindir $app_dir/bin/intel64
setenv CC $bindir/icc
setenv FC $bindir/ifort
setenv F90 $bindir/ifort
setenv F77 $bindir/ifort
setenv CXX $bindir/icpc
